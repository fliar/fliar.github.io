#+SETUPFILE: theme-readtheorg.setup
#+TITLE:     Notes
#+AUTHOR:    Fliar Start
#+EMAIL:     fliar@live.jp
#+OPTIONS: H:5 num:nil toc:3
#+PROPERTY: header-args+ :eval no-export
#+PROPERTY: header-args+ :exports both
* Cross Platform
** emacs
*** my installed package
	for the record when i need to reinstall emacs
	| Package Name | Description                            |
	|--------------+----------------------------------------|
	| ahk-mode     | auto hot key script mode, windows only |
	| async        | c?                                     |
	| cmake-mode   | cmake mode                             |
	| company      | company mode                           |
	| flymake-lua  |                                        |
	| helm         | helm mode                              |
	| helm-company | helm interface for company             |
	| helm-core    |                                        |
	| helm-flymake |                                        |
	| helm-gtags   | helm interface for gnu global          |
	| helm-swoop   |                                        |
	| htmlize      | html coloring for org export           |
	| ivy          | c?                                     |
	| lua-mode     | editing lua                            |
	| multi-term   | terminal inside emacs                  |
	| org          | i'm writing this with org mode         |
	| popup        | c?                                     |
	| swiper       | c?                                     |

*** org-mode
**** insert BEGIN block: easy template
	 - type "<s" then <tab> to insert a source block. \\
	   usually a c-g is required to quit company auto completion.
	 - for more easy template: [[http://orgmode.org/manual/Easy-Templates.html][click here]]
**** customize source block style
	 create a css for src:
	 #+BEGIN_SRC css
	 pre.src {
     	font-family: sans-serif;
		font-size: 95%;
		color: #93a1a1;
		background-color: #002b36;
		padding: 2px;
		border: #a7a7a7 1px solid;
		line-height: 120%
	}
	 div.src { 
     	border: #a7a7a7 1px solid;
		background-color: #002b36;
		padding: 2px;
		overflow: auto;
	}
	 div.src {
     	font-family: sans-serif;
		font-size: 95%;
		color: #93a1a1;
		padding: 0px;
		line-height: 120%;
		margin: 0px;
	}
	div.src p {
    	font-family: sans-serif;
		font-size: 95%;
		color: #93a1a1;
		padding: 0px;
		line-height: 120%;
		margin: 0px;
	}
	#+END_SRC
	add HTML head to org file
	#+BEGIN_SRC org
	,#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="src.css" />
	#+END_SRC
**** link to external org file headline
	 - the whole org project must be exported: c-c c-e P x
	 - link syntax(remove comma)
	   #+BEGIN_SRC org
	   [,[file: name.org ::*headline name][link name]]
	   #+END_SRC
	   headline name should be exact headline name in name.org
	 - link can be edited with c-c c-l
**** eval source block and export
	 - make a source block, specifying source and result type
	   #+BEGIN_SRC org
	   ,#+BEGIN_SRC sh :result code
	   	lsb_release -a
	   ,#+END_SRC
	   #+END_SRC
	 - c-c c-c to run the source
	   #+BEGIN_SRC org
	   ,#+BEGIN_SRC sh :result code
	   	lsb_release -a
	   ,#+END_SRC
	   ,#+RESULTS:
	   ,#+BEGIN_SRC sh
	    Distributor ID:	Ubuntu
	    Description:	Ubuntu 16.04 LTS
		Release:	16.04
		Codename:	xenial
	   ,#+END_SRC
	   #+END_SRC
	   make sure language is loaded in org-babel-do-load-languages
	 - disable eval on export:
	   #+BEGIN_SRC org
	   ,#+PROPERTY: header-args+ :eval no-export
	   #+END_SRC
	   or eval will be prompted every time you export
	 - export both source and result:
	   use ":export both" at block header 
	   #+BEGIN_SRC org
	   ,#+BEGIN_SRC sh :export both
	    lsb_release -a
	   ,#+END_SRC
	   #+END_SRC
	   or set to header-args
	   #+BEGIN_SRC org
	   ,#+PROPERTY: header-args+ :exports both
	   #+END_SRC
** Web Site
*** fliar.github.io
**** read the org css fine tune
	 the mobile view of read the org looks badly like this:
	 #+ATTR_HTML: :width 50% :height 50%
	 [[./pic/2016/rto_ng.jpg]]

	 to solve this, change all 300px to percentage(eg.23%), add position, and left to content:
	 #+BEGIN_SRC css
	 #content{
	 	position:relative;
		background:#fcfcfc;
		height:100%;
		left:23%;
		/*margin:auto;*/
		max-width:75%;
		min-height:100%;
		padding:1.618em 3.236em;
	 }
	 #+END_SRC
	 not very well but works:
	 #+ATTR_HTML: :width 50% :height 50%
	 [[./pic/2016/rto_g.jpg]]

**** This web site does not supply ownership informatio
	 outsourcing css caused this issue, simply move css to github solved this problem
	 #+BEGIN_SRC org
	 ,#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="css/htmlize.css"/>
	 ,#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="css/readtheorg.css"/>
	 #+END_SRC
*** firebase
**** RESTful API basic:get data
	 - simply using curl, add .json to the url address:
	   print=pretty makes it more readable.
	   #+BEGIN_SRC sh :results code
	   curl 'https://xxxxxx.firebaseio.com/pub.json?print=pretty'
	   #+END_SRC

	   #+RESULTS:
	   #+BEGIN_SRC sh
	   {
		 "error" : "Permission denied"
	   }
	   #+END_SRC
	 - auth param will bypass the rules for db:
	   for instance, if your db secret is 123 (could be found in settings/database),rules for your db is like this:
	   #+BEGIN_SRC json
	   "pub": {
       	".read": false,
       	".write": false,
       },
	   #+END_SRC
	   when executing:
	   #+BEGIN_SRC sh :results code
	   curl 'https://xxxxxx.firebaseio.com/pub.json?auth=123&print=pretty'
	   #+END_SRC

	   #+RESULTS:
	   #+BEGIN_SRC sh
	   {
		 "001" : 99,
		 "abc" : "aaa"
	   }
	   #+END_SRC
	   your data will show as well
* Linux
** Tools
*** iftop
**** display issue
	 iftop works well under lxterminal like this:
	 #+CAPTION: normal iftop
	 [[./pic/2016/iftop_g.png]]
	 but has char issue in emacs terminal or putty:
	 #+CAPTION: bad iftop
	 [[./pic/2016/iftop_ng.png]]
	 to solve this, add param before launching iftop
	 #+BEGIN_SRC bash
	 sudo NCURSES_NO_UTF8_ACS=1 iftop
	 #+END_SRC
** Distributions
*** Ubuntu
**** shell config: .bashrc
	 - aliases(or put in .bashaliases):
	   #+BEGIN_SRC sh
	   alias iftop="NCURSES_NO_UTF8_ACS=1 iftop"
	   #+END_SRC
	 - terminal colors:
	   #+BEGIN_SRC sh
	   export TERM=xterm-256color
	   #+END_SRC
**** global config: /etc/profile
	 - path:
	   #+BEGIN_SRC sh
	   export PATH=$PATH:/usr/local/go/bin
	   #+END_SRC
**** auto run: /etc/rc.local
	 [[file:notes.org::*auto run on startup][- auto run on startup]]
**** show version
	 #+BEGIN_SRC sh :results code 
	 lsb_release -a
	 #+END_SRC

	 #+RESULTS:
	 #+BEGIN_SRC sh
	 Distributor ID:	Ubuntu
	 Description:	Ubuntu 16.04 LTS
	 Release:	16.04
	 Codename:	xenial
	 #+END_SRC

**** auto run on startup
	 - edit /etc/rc.local, add command to run on startup:
	 #+BEGIN_SRC sh
	 nohup sh -c "/home/fliar/downloads/lantern_linux_amd64 -addr 0.0.0.0:8888 &> /dev/null" &> /dev/null
	 exit 0 # last line of rc.local
	 #+END_SRC
	 - note that rc.local should end with a value(exit 0)
* Windows
** Tools
*** Auto Hot Key
**** nested if statement
	 nested if is not allowed in ahk script:	 
	 #+BEGIN_SRC bash
	 if a
	 {
	 	if b
		{
			...
		}
	 }
	 #+END_SRC
	 you can wrap it to another function:
	 #+BEGIN_SRC bash
	 fb(b)
	 {
	 	if b
		{
			...
		}
	 }
	 

	 if a
	 {
	 	fb(b)
	 }
	 #+END_SRC
